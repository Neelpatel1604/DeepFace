(()=>{var e={};e.id=754,e.ids=[754],e.modules={512:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var s=r(687),n=r(3210),a=r(6189),i=r(7590),o=r(7981);class l{constructor(){this.originalStream=null,this.protectedStream=null,this.hashStream=null,this.protectedCanvas=null,this.hashCanvas=null,this.animationFrameId=null,this.obsVirtualCameraStream=null,this.videoElement=null,this.isProtectionActive=!1,this.protectionStrength=.5,this.lastFrameTime=0,this.frameCount=0,this.fps=0,this.obsManager=o.A.getInstance()}static getInstance(){return l.instance||(l.instance=new l),l.instance}async initializeStreams(){try{this.obsManager.isConnected()&&!await this.obsManager.startVirtualCamera()&&console.warn("Failed to start OBS Virtual Camera."),this.originalStream=await navigator.mediaDevices.getUserMedia({video:!0}),this.videoElement=document.createElement("video"),this.videoElement.srcObject=this.originalStream,this.videoElement.play(),this.protectedCanvas=document.createElement("canvas"),this.hashCanvas=document.createElement("canvas"),this.protectedCanvas.width=1280,this.protectedCanvas.height=720,this.hashCanvas.width=1280,this.hashCanvas.height=720;let e=this.protectedCanvas.getContext("2d",{alpha:!1,desynchronized:!0}),t=this.hashCanvas.getContext("2d",{alpha:!1,desynchronized:!0});if(!e||!t)throw Error("Failed to get canvas contexts");e.imageSmoothingEnabled=!1,t.imageSmoothingEnabled=!1;let r=s=>{if(this.videoElement&&e&&t&&this.protectedCanvas&&this.hashCanvas){if(0!==this.lastFrameTime){let e=s-this.lastFrameTime;this.frameCount++,30===this.frameCount&&(this.fps=1e3/(e/30),this.frameCount=0)}if(this.lastFrameTime=s,e.drawImage(this.videoElement,0,0,this.protectedCanvas.width,this.protectedCanvas.height),t.drawImage(this.videoElement,0,0,this.hashCanvas.width,this.hashCanvas.height),this.isProtectionActive){let r=e.getImageData(0,0,this.protectedCanvas.width,this.protectedCanvas.height);this.applyProtection(r),e.putImageData(r,0,0);let n=t.getImageData(0,0,this.hashCanvas.width,this.hashCanvas.height);this.generateHashVisualization(n,s),t.putImageData(n,0,0)}this.drawProtectionOverlay(e,this.protectionStrength),this.drawFPSOverlay(t),this.sendToOBS(),this.animationFrameId=requestAnimationFrame(r)}};return this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(r),this.protectedStream=this.protectedCanvas.captureStream(30),this.hashStream=this.hashCanvas.captureStream(30),!0}catch(e){return console.error("Failed to initialize streams:",e),!1}}async sendToOBS(){if(this.protectedStream&&this.obsManager.isConnected())try{await this.obsManager.applyProtectionFilter("WebAppProtectedSource",{model:"default",strength:100*this.protectionStrength,iterations:10,alpha:.01,epsilon:.1,targetArea:"full"})}catch(e){console.error("Failed to send to OBS:",e)}}async getStreamFromOBS(){try{if(!this.obsManager.isConnected())return console.warn("OBS not connected; returning local protected stream."),this.protectedStream;if(this.obsVirtualCameraStream=await navigator.mediaDevices.getUserMedia({video:{deviceId:"OBS Virtual Camera"}}),this.obsVirtualCameraStream)return this.obsVirtualCameraStream;return console.warn("Failed to get OBS Virtual Camera stream; using local protected stream."),this.protectedStream}catch(e){return console.error("Failed to get stream from OBS:",e),this.protectedStream}}setProtectionActive(e){this.isProtectionActive=e}setProtectionStrength(e){this.protectionStrength=Math.max(0,Math.min(1,e))}getOriginalStream(){return this.originalStream}getProtectedStream(){return this.protectedStream}getHashStream(){return this.hashStream}cleanup(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.originalStream&&this.originalStream.getTracks().forEach(e=>e.stop()),this.obsVirtualCameraStream&&(this.obsVirtualCameraStream.getTracks().forEach(e=>e.stop()),this.obsVirtualCameraStream=null),this.originalStream=null,this.protectedStream=null,this.hashStream=null,this.protectedCanvas=null,this.hashCanvas=null}applyProtection(e){let t=e.data,r=2*this.protectionStrength,s=.1*Date.now(),n=new Uint32Array(t.buffer),a=n.length;for(let e=0;e<a;e++){let t=Math.sin(s+.001*e)*r,a=n[e],i=Math.max(0,Math.min(255,(a>>24&255)+t)),o=Math.max(0,Math.min(255,(a>>16&255)+t)),l=Math.max(0,Math.min(255,(a>>8&255)+t));n[e]=i<<24|o<<16|l<<8|255}}generateHashVisualization(e,t){let r=e.data,s=.001*t,n=e.width,a=e.height,i=new Uint32Array(r.buffer),o=i.length;for(let e=0;e<o;e++){let t=e%n/n,r=Math.floor(e/n)/a,o=(Math.sin(10*t+s)*Math.cos(10*r+s)+Math.sin(20*Math.sqrt((t-.5)**2+(r-.5)**2)-2*s))*.5*(((i[e]>>24&255)*.299+(i[e]>>16&255)*.587+(i[e]>>8&255)*.114)/255),l=(50*s+360*o)%360,[c,d,u]=this.hslToRgb(l/360,.8,.5+.5*o);i[e]=c<<24|d<<16|u<<8|255}}drawProtectionOverlay(e,t){let r=`Protection: ${Math.round(100*t)}%`;e.font="16px monospace",e.fillStyle=`rgba(0, 255, 0, ${.5*t})`,e.fillText(r,10,20)}drawFPSOverlay(e){let t=`FPS: ${Math.round(this.fps)}`;e.font="16px monospace",e.fillStyle="rgba(255, 255, 255, 0.8)",e.fillText(t,10,20)}hslToRgb(e,t,r){let s,n,a;if(0===t)s=n=a=r;else{let i=(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e,o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;s=i(l,o,e+1/3),n=i(l,o,e),a=i(l,o,e-1/3)}return[Math.round(255*s),Math.round(255*n),Math.round(255*a)]}}var c=r(5390);function d(e,[t,r]){return Math.min(r,Math.max(t,e))}function u(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return t?.(s)}}var h=r(8599);function m(e,t=[]){let r=[],a=()=>{let t=r.map(e=>n.createContext(e));return function(r){let s=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return a.scopeName=e,[function(t,a){let i=n.createContext(a),o=r.length;r=[...r,a];let l=t=>{let{scope:r,children:a,...l}=t,c=r?.[e]?.[o]||i,d=n.useMemo(()=>l,Object.values(l));return(0,s.jsx)(c.Provider,{value:d,children:a})};return l.displayName=t+"Provider",[l,function(r,s){let l=s?.[e]?.[o]||i,c=n.useContext(l);if(c)return c;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let n=r(e)[`__scope${s}`];return{...t,...n}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(a,...t)]}function p(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}var f=n.createContext(void 0),g=globalThis?.document?n.useLayoutEffect:()=>{},v=r(4163),b=r(8730),x=["PageUp","PageDown"],y=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],w={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},S="Slider",[P,j,C]=function(e){let t=e+"CollectionProvider",[r,a]=m(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=e=>{let{scope:t,children:r}=e,a=n.useRef(null),o=n.useRef(new Map).current;return(0,s.jsx)(i,{scope:t,itemMap:o,collectionRef:a,children:r})};l.displayName=t;let c=e+"CollectionSlot",d=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,a=o(c,r),i=(0,h.s)(t,a.collectionRef);return(0,s.jsx)(b.DX,{ref:i,children:n})});d.displayName=c;let u=e+"CollectionItemSlot",p="data-radix-collection-item",f=n.forwardRef((e,t)=>{let{scope:r,children:a,...i}=e,l=n.useRef(null),c=(0,h.s)(t,l),d=o(u,r);return n.useEffect(()=>(d.itemMap.set(l,{ref:l,...i}),()=>void d.itemMap.delete(l))),(0,s.jsx)(b.DX,{[p]:"",ref:c,children:a})});return f.displayName=u,[{Provider:l,Slot:d,ItemSlot:f},function(t){let r=o(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},a]}(S),[N,M]=m(S,[C]),[F,R]=N(S),E=n.forwardRef((e,t)=>{let{name:r,min:a=0,max:i=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[a],value:f,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:b=!1,form:w,...S}=e,j=n.useRef(new Set),C=n.useRef(0),N="horizontal"===l,[M=[],R]=function({prop:e,defaultProp:t,onChange:r=()=>{}}){let[s,a]=function({defaultProp:e,onChange:t}){let r=n.useState(e),[s]=r,a=n.useRef(s),i=p(t);return n.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}({defaultProp:t,onChange:r}),i=void 0!==e,o=i?e:s,l=p(r);return[o,n.useCallback(t=>{if(i){let r="function"==typeof t?t(e):t;r!==e&&l(r)}else a(t)},[i,e,a,l])]}({prop:f,defaultProp:m,onChange:e=>{let t=[...j.current];t[C.current]?.focus(),g(e)}}),E=n.useRef(M);function D(e,t,{commit:r}={commit:!1}){let s=(String(o).split(".")[1]||"").length,n=d(function(e,t){let r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-a)/o)*o+a,s),[a,i]);R((e=[])=>{let s=function(e=[],t,r){let s=[...e];return s[r]=t,s.sort((e,t)=>e-t)}(e,n,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(s,h*o))return e;{C.current=s.indexOf(n);let t=String(s)!==String(e);return t&&r&&v(s),t?s:e}})}return(0,s.jsx)(F,{scope:e.__scopeSlider,name:r,disabled:c,min:a,max:i,valueIndexToChangeRef:C,thumbs:j.current,values:M,orientation:l,form:w,children:(0,s.jsx)(P.Provider,{scope:e.__scopeSlider,children:(0,s.jsx)(P.Slot,{scope:e.__scopeSlider,children:(0,s.jsx)(N?A:_,{"aria-disabled":c,"data-disabled":c?"":void 0,...S,ref:t,onPointerDown:u(S.onPointerDown,()=>{c||(E.current=M)}),min:a,max:i,inverted:b,onSlideStart:c?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),s=Math.min(...r);return r.indexOf(s)}(M,e);D(e,t)},onSlideMove:c?void 0:function(e){D(e,C.current)},onSlideEnd:c?void 0:function(){let e=E.current[C.current];M[C.current]!==e&&v(M)},onHomeKeyDown:()=>!c&&D(a,0,{commit:!0}),onEndKeyDown:()=>!c&&D(i,M.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!c){let r=x.includes(e.key)||e.shiftKey&&y.includes(e.key),s=C.current;D(M[s]+o*(r?10:1)*t,s,{commit:!0})}}})})})})});E.displayName=S;var[D,k]=N(S,{startEdge:"left",endEdge:"right",size:"width",direction:1}),A=n.forwardRef((e,t)=>{let{min:r,max:a,dir:i,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:u,...m}=e,[p,g]=n.useState(null),v=(0,h.s)(t,e=>g(e)),b=n.useRef(void 0),x=function(e){let t=n.useContext(f);return e||t||"ltr"}(i),y="ltr"===x,S=y&&!o||!y&&o;function P(e){let t=b.current||p.getBoundingClientRect(),s=U([0,t.width],S?[r,a]:[a,r]);return b.current=t,s(e-t.left)}return(0,s.jsx)(D,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:(0,s.jsx)(I,{dir:x,"data-orientation":"horizontal",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=P(e.clientX);l?.(t)},onSlideMove:e=>{let t=P(e.clientX);c?.(t)},onSlideEnd:()=>{b.current=void 0,d?.()},onStepKeyDown:e=>{let t=w[S?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),_=n.forwardRef((e,t)=>{let{min:r,max:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,m=n.useRef(null),p=(0,h.s)(t,m),f=n.useRef(void 0),g=!i;function v(e){let t=f.current||m.current.getBoundingClientRect(),s=U([0,t.height],g?[a,r]:[r,a]);return f.current=t,s(e-t.top)}return(0,s.jsx)(D,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:(0,s.jsx)(I,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);o?.(t)},onSlideMove:e=>{let t=v(e.clientY);l?.(t)},onSlideEnd:()=>{f.current=void 0,c?.()},onStepKeyDown:e=>{let t=w[g?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),I=n.forwardRef((e,t)=>{let{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,h=R(S,r);return(0,s.jsx)(v.sG.span,{...d,ref:t,onKeyDown:u(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):x.concat(y).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:u(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():n(e)}),onPointerMove:u(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:u(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))})})}),O="SliderTrack",z=n.forwardRef((e,t)=>{let{__scopeSlider:r,...n}=e,a=R(O,r);return(0,s.jsx)(v.sG.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});z.displayName=O;var q="SliderRange",L=n.forwardRef((e,t)=>{let{__scopeSlider:r,...a}=e,i=R(q,r),o=k(q,r),l=n.useRef(null),c=(0,h.s)(t,l),d=i.values.length,u=i.values.map(e=>H(e,i.min,i.max)),m=d>1?Math.min(...u):0,p=100-Math.max(...u);return(0,s.jsx)(v.sG.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...a,ref:c,style:{...e.style,[o.startEdge]:m+"%",[o.endEdge]:p+"%"}})});L.displayName=q;var V="SliderThumb",T=n.forwardRef((e,t)=>{let r=j(e.__scopeSlider),[a,i]=n.useState(null),o=(0,h.s)(t,e=>i(e)),l=n.useMemo(()=>a?r().findIndex(e=>e.ref.current===a):-1,[r,a]);return(0,s.jsx)($,{...e,ref:o,index:l})}),$=n.forwardRef((e,t)=>{let{__scopeSlider:r,index:a,name:i,...o}=e,l=R(V,r),c=k(V,r),[d,m]=n.useState(null),p=(0,h.s)(t,e=>m(e)),f=!d||l.form||!!d.closest("form"),b=function(e){let[t,r]=n.useState(void 0);return g(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,n;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,n=t.blockSize}else s=e.offsetWidth,n=e.offsetHeight;r({width:s,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(d),x=l.values[a],y=void 0===x?0:H(x,l.min,l.max),w=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(a,l.values.length),S=b?.[c.size],j=S?function(e,t,r){let s=e/2,n=U([0,50],[0,s]);return(s-n(t)*r)*r}(S,y,c.direction):0;return n.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),(0,s.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${y}% + ${j}px)`},children:[(0,s.jsx)(P.ItemSlot,{scope:e.__scopeSlider,children:(0,s.jsx)(v.sG.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:p,style:void 0===x?{display:"none"}:e.style,onFocus:u(e.onFocus,()=>{l.valueIndexToChangeRef.current=a})})}),f&&(0,s.jsx)(G,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},a)]})});T.displayName=V;var G=e=>{let{value:t,...r}=e,a=n.useRef(null),i=function(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(t);return n.useEffect(()=>{let e=a.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(i!==t&&r){let s=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(s)}},[i,t]),(0,s.jsx)("input",{style:{display:"none"},...r,ref:a,defaultValue:t})};function H(e,t,r){return d(100/(r-t)*(e-t),[0,100])}function U(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}var B=r(2857);let K=n.forwardRef(({className:e,...t},r)=>(0,s.jsxs)(E,{ref:r,className:(0,B.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[(0,s.jsx)(z,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-700",children:(0,s.jsx)(L,{className:"absolute h-full bg-blue-500"})}),(0,s.jsx)(T,{className:"block h-5 w-5 rounded-full border-2 border-blue-500 bg-white ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));K.displayName=E.displayName;var X=r(6582);function W(){let e=(0,n.useRef)(null),t=(0,n.useRef)(null);(0,n.useRef)(null);let r=(0,n.useRef)(null),o=l.getInstance(),[d,u]=(0,n.useState)(null),[h,m]=(0,n.useState)(50),[p,f]=(0,n.useState)(!1),[g,v]=(0,n.useState)("Idle"),[b,x]=(0,n.useState)(""),y=(0,a.useRouter)(),[w,S]=(0,n.useState)(0);return(0,s.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-white p-8",children:[(0,s.jsx)(i.l$,{position:"top-right"}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Video Stream Protection"}),(0,s.jsx)(c.$,{onClick:()=>y.push("/"),variant:"outline",className:"border-gray-600 cursor-pointer",children:"Back to Settings"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg backdrop-blur-sm border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Original"}),(0,s.jsx)("span",{className:"text-sm text-yellow-400",children:"Trainable"})]}),(0,s.jsxs)("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden relative",children:[(0,s.jsx)("video",{ref:e,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,playsInline:!0}),(0,s.jsx)("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:"Raw Input"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg backdrop-blur-sm border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Hash Visualization"}),(0,s.jsx)("span",{className:"text-sm text-blue-400",children:"Processing"})]}),(0,s.jsxs)("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden relative",children:[(0,s.jsx)("canvas",{ref:r,className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:"Protection Pattern"}),p&&(0,s.jsxs)("div",{className:"absolute top-2 right-2 text-xs text-white bg-green-600/70 px-2 py-1 rounded",children:[Math.round(w),"% Active"]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg backdrop-blur-sm border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Protected"}),(0,s.jsx)("span",{className:"text-sm text-green-400",children:"Secured"})]}),(0,s.jsxs)("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden relative",children:[(0,s.jsx)("video",{ref:t,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,playsInline:!0}),(0,s.jsx)("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:"Protected Output"})]})]})]}),(0,s.jsx)("div",{className:"bg-gray-800/30 p-4 rounded-lg backdrop-blur-sm border border-gray-700",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-400 mb-1",children:"Original Stream"}),(0,s.jsx)("p",{className:"text-yellow-400",children:"Unprotected feed - vulnerable to deepfake training"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-400 mb-1",children:"Hash Visualization"}),(0,s.jsx)("p",{className:"text-blue-400",children:"Real-time protection pattern generation"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-400 mb-1",children:"Protected Stream"}),(0,s.jsx)("p",{className:"text-green-400",children:"Adversarial protection applied - resistant to deepfakes"})]})]})})]}),(0,s.jsx)("div",{className:"bg-gray-800/50 p-6 rounded-lg backdrop-blur-sm border border-gray-700",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(X.J,{htmlFor:"strength",children:"Protection Strength"}),(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:[h," %"]})]}),(0,s.jsx)(K,{id:"strength",value:[h],onValueChange:e=>{let t=e[0];if(m(t),p)try{o.setProtectionStrength(t/100)}catch(e){x("Failed to update protection strength"),console.error("Strength update error:",e),i.oR.error("Failed to update protection strength")}},min:0,max:100,step:1,className:"w-full",disabled:!p}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:["Status: ",g]}),(0,s.jsx)(c.$,{onClick:()=>{try{let e=!p;o.setProtectionActive(e),f(e),v(e?"Protection applied":"Protection removed"),i.oR.success(e?"Protection applied successfully":"Protection removed successfully")}catch(e){x("Failed to toggle protection"),console.error("Protection toggle error:",e),i.oR.error("Failed to toggle protection")}},className:`${p?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:p?"Remove Protection":"Apply Protection"})]})]})}),b&&(0,s.jsx)("div",{className:"bg-red-900/50 p-4 rounded-lg border border-red-700",children:(0,s.jsx)("p",{className:"text-red-400",children:b})})]})]})}},830:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var s=r(5239),n=r(8088),a=r(8170),i=r.n(a),o=r(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["comparison",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7729)),"C:\\Users\\schmu\\Documents\\GitHub\\genaigenesis2025\\frontend\\app\\comparison\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"C:\\Users\\schmu\\Documents\\GitHub\\genaigenesis2025\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\schmu\\Documents\\GitHub\\genaigenesis2025\\frontend\\app\\comparison\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/comparison/page",pathname:"/comparison",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},1888:(e,t,r)=>{Promise.resolve().then(r.bind(r,7729))},1901:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},2704:()=>{},2778:()=>{},2857:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(9384),n=r(2348);function a(...e){return(0,n.QP)((0,s.$)(e))}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4631:e=>{"use strict";e.exports=require("tls")},4735:e=>{"use strict";e.exports=require("events")},5390:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(687),n=r(3210),a=r(8730),i=r(4224),o=r(2857);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},c)=>{let d=n?a.DX:"button";return(0,s.jsx)(d,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:c,...i})});c.displayName="Button"},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},5826:()=>{},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(1658);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6582:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var s=r(687),n=r(3210),a=r(8148),i=r(4224),o=r(2857);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(a.b,{ref:r,className:(0,o.cn)(l(),e),...t}));c.displayName=a.b.displayName},7729:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\schmu\\\\Documents\\\\GitHub\\\\genaigenesis2025\\\\frontend\\\\app\\\\comparison\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\schmu\\Documents\\GitHub\\genaigenesis2025\\frontend\\app\\comparison\\page.tsx","default")},7910:e=>{"use strict";e.exports=require("stream")},7981:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(1088);class n{constructor(){this.connectionStatus=!1,this.statusListeners=[],this.obs=new s.Ay,this.setupEventListeners()}static getInstance(){return n.instance||(n.instance=new n),n.instance}setupEventListeners(){this.obs.on("ConnectionOpened",()=>{this.connectionStatus=!0,this.notifyStatusListeners()}),this.obs.on("ConnectionClosed",()=>{this.connectionStatus=!1,this.notifyStatusListeners()})}async connect(e="localhost:4455",t){try{return this.currentPassword=t,await this.obs.connect(`ws://${e}`,t),!0}catch(e){return console.error("Failed to connect:",e),!1}}async disconnect(){try{return await this.obs.disconnect(),!0}catch(e){return console.error("Failed to disconnect:",e),!1}}isConnected(){return this.connectionStatus}addStatusListener(e){this.statusListeners.push(e)}removeStatusListener(e){this.statusListeners=this.statusListeners.filter(t=>t!==e)}notifyStatusListeners(){this.statusListeners.forEach(e=>e(this.connectionStatus))}async getScenes(){try{let{scenes:e}=await this.obs.call("GetSceneList");return e}catch(e){return console.error("Failed to get scenes:",e),[]}}async getCurrentScene(){try{let{currentProgramSceneName:e}=await this.obs.call("GetCurrentProgramScene");return e}catch(e){return console.error("Failed to get current scene:",e),null}}async applyProtectionFilter(e,t){try{let r=(await this.obs.call("GetSourceFilterList",{sourceName:e})).filters.some(e=>"DeepfakeProtection"===e.filterName),s={contrast:1+t.strength/200,brightness:1-t.strength/400,gamma:1+10*t.alpha,saturation:1+t.epsilon,hue_shift:t.iterations%360,opacity:1};return r?await this.obs.call("SetSourceFilterSettings",{sourceName:e,filterName:"DeepfakeProtection",filterSettings:s}):await this.obs.call("CreateSourceFilter",{sourceName:e,filterName:"DeepfakeProtection",filterKind:"color_filter_v2",filterSettings:s}),await this.obs.call("SetSourceFilterEnabled",{sourceName:e,filterName:"DeepfakeProtection",filterEnabled:!0}),!0}catch(e){return console.error("Failed to apply protection filter:",e),!1}}async removeProtectionFilter(e){try{try{await this.obs.call("SetSourceFilterEnabled",{sourceName:e,filterName:"DeepfakeProtection",filterEnabled:!1}),await this.obs.call("SetSourceFilterEnabled",{sourceName:e,filterName:"DeepfakeProtection_LUT",filterEnabled:!1})}catch(e){console.warn("Failed to disable filters:",e)}try{await this.obs.call("RemoveSourceFilter",{sourceName:e,filterName:"DeepfakeProtection"})}catch(e){console.warn("Failed to remove color filter:",e)}try{await this.obs.call("RemoveSourceFilter",{sourceName:e,filterName:"DeepfakeProtection_LUT"})}catch(e){console.warn("Failed to remove LUT filter:",e)}return!0}catch(e){return console.error("Failed to remove protection filters:",e),!1}}async startVirtualCamera(){try{return await this.obs.call("StartVirtualCam"),!0}catch(e){return console.error("Failed to start virtual camera:",e),!1}}async stopVirtualCamera(){try{return await this.obs.call("StopVirtualCam"),!0}catch(e){return console.error("Failed to stop virtual camera:",e),!1}}async getSceneSources(e){try{let{sceneItems:t}=await this.obs.call("GetSceneItemList",{sceneName:e});return t.map(e=>({sourceName:e.sourceName}))}catch(e){return console.error("Failed to get scene sources:",e),[]}}}let a=n},7990:()=>{},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>l});var s=r(7413),n=r(260),a=r.n(n),i=r(3298),o=r.n(i);r(2704);let l={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${a().variable} ${o().variable} antialiased`,children:e})})}},8354:e=>{"use strict";e.exports=require("util")},8397:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},8736:(e,t,r)=>{Promise.resolve().then(r.bind(r,512))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},9551:e=>{"use strict";e.exports=require("url")},9727:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,423,275],()=>r(830));module.exports=s})();